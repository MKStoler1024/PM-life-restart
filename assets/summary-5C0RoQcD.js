class m extends ui.view.CyberTheme.CyberSummaryUI{constructor(){super(),this.listSelectedTalents.renderHandler=Laya.Handler.create(this,this.renderTalent,null,!1),this.btnAgain.on(Laya.Event.CLICK,this,this.onAgain)}#e;#t;onAgain(){core.talentExtend(this.#e),core.times++,$ui.switchView(UI.pages.MAIN)}init({talents:e,enableExtend:n}){const{summary:i,lastExtendTalent:l}=core;this.#t=n;const s=$ui.common.filter,t=$ui.common.grade,r=i[core.PropertyTypes.HAGE];this.labAge.text=""+r.value,this.labAgeJudge.text=r.judge,this.labAgeJudge.color=t[r.grade];const d=i[core.PropertyTypes.SUM];this.labTotal.text=""+d.value,this.labTotalJudge.text=d.judge,this.labTotalJudge.color=t[d.grade];const a=i[core.PropertyTypes.HCHR];this.labCharm.text=""+a.value,this.prgCharm.value=a.progress,this.labCharmJudge.text=a.judge,this.labCharmJudge.color=t[a.grade],this.boxCharmGrade.colorFilter=s[a.grade];const o=i[core.PropertyTypes.HINT];this.labIntelligence.text=""+o.value,this.prgIntelligence.value=o.progress,this.labIntelligenceJudge.text=o.judge,this.labIntelligenceJudge.color=t[o.grade],this.boxIntelligenceGrade.colorFilter=s[o.grade];const g=i[core.PropertyTypes.HSTR];this.labStrength.text=""+g.value,this.prgStrength.value=g.progress,this.labStrengthJudge.text=g.judge,this.labStrengthJudge.color=t[g.grade],this.boxStrengthGrade.colorFilter=s[g.grade];const h=i[core.PropertyTypes.HMNY];this.labMoney.text=""+h.value,this.prgMoney.value=h.progress,this.labMoneyJudge.text=h.judge,this.labMoneyJudge.color=t[h.grade],this.boxMoneyGrade.colorFilter=s[h.grade];const c=i[core.PropertyTypes.HSPR];this.labSpirit.text=""+c.value,this.prgSpirit.value=c.progress,this.labSpiritJudge.text=c.judge,this.labSpiritJudge.color=t[c.grade],this.boxSpiritGrade.colorFilter=s[c.grade],e.sort(({id:u,grade:b},{id:v,grade:y})=>u==l?-1:v==l?1:y-b),this.#t?this.#e=e[0].id:this.#e=l,this.listSelectedTalents.array=e}renderTalent(e){const n=e.dataSource,i=e.getChildByName("labTitle"),l=e.getChildByName("grade1"),s=e.getChildByName("grade2"),t=e.getChildByName("grade3"),r=e.getChildByName("grade4"),d=e.getChildByName("labDescription"),a=e.getChildByName("selected"),o=e.getChildByName("unselected");switch(i.text=n.name,d.text=n.description,n.grade){case 1:l.visible=!0,s.visible=!1,t.visible=!1,r.visible=!1;break;case 2:l.visible=!1,s.visible=!0,t.visible=!1,r.visible=!1;break;case 3:l.visible=!1,s.visible=!1,t.visible=!0,r.visible=!1;break;case 4:l.visible=!1,s.visible=!1,t.visible=!1,r.visible=!0;break;default:l.visible=!1,s.visible=!1,t.visible=!1,r.visible=!1;break}a.visible=n.id==this.#e,o.visible=!a.visible,e.off(Laya.Event.CLICK,this,this.onSelectTalent),e.on(Laya.Event.CLICK,this,this.onSelectTalent,[n.id])}onSelectTalent(e){if(!this.#t)return $$event("message",["M_DisableExtendTalent"]);e==this.#e?this.#e=null:this.#e=e,this.listSelectedTalents.refresh()}}export{m as default};
